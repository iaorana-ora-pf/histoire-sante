<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contribuer - Paana</title>
  <link rel="stylesheet" href="style-template.css" />
  <meta name="description" content="Paana - Base de connaissances sur la santé publique en Polynésie française">

  <script type="module">
    import { Timeline, DataSet } from 'https://cdn.jsdelivr.net/npm/vis-timeline@latest/standalone/esm/vis-timeline-graph2d.min.js';

    document.addEventListener('DOMContentLoaded', async () => {
      const response = await fetch('evenements.json');
      const data = await response.json();

      const formattedData = data.map(event => {
        const className = "cat-" + event.group.toLowerCase()
          .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
          .replace(/[()]/g, "")
          .replace(/[^a-z0-9]+/g, "-")
          .replace(/-+$/, "");
        return { ...event, className };
      });

      const timelineData = new DataSet(formattedData);

      const uniqueCategories = [...new Set(formattedData.map(e => e.group))];
      const groups = new DataSet(
        uniqueCategories.map(cat => ({ id: cat, content: cat }))
      );

      const timeline = new Timeline(
        document.getElementById('timeline'),
        timelineData,
        {
